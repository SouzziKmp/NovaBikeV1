<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

    <!-- HEAD COMO FRAGMENTO -->
    <head th:fragment="head">
        <title>Nova Bike Shop</title>
        <meta charset="UTF-8"/>

        <link th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" rel="stylesheet"/>
        <link th:href="@{/webjars/font-awesome/css/all.css}" rel="stylesheet"/>
        <link th:href="@{/css/estilos.css}" rel="stylesheet"/>
        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>

        <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
        <script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
        <script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
    </head>

    <!-- HEADER COMO FRAGMENTO -->
    <header th:fragment="header" class="header">
        <nav class="navbar navbar-expand-sm navbar-dark" style="background-color: #261f1f;">
            <div class="container">

                <a th:href="@{/}" class="navbar-brand">
                    Nova Bikes<br>Shop
                </a>

                <button class="navbar-toggler" data-bs-toggle="collapse"
                        data-bs-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarCollapse">

                    <!-- MENÚ IZQUIERDO -->
                    <ul class="navbar-nav">

                        <li class="nav-item px-2">
                            <a class="nav-link" th:href="@{/}">Inicio</a>
                        </li>

                        <li class="nav-item px-2">
                            <a class="nav-link" th:href="@{/producto/listado}">
                                Productos
                            </a>
                        </li>

                        <li class="nav-item px-2"
                            sec:authorize="hasAnyRole('VENDEDOR','ADMIN')">
                            <a class="nav-link" th:href="@{/producto/agregar}">
                                Agregar
                            </a>
                        </li>

                        <li class="nav-item px-2">
                            <a class="nav-link" th:href="@{/producto/destacados}">
                                Destacados
                            </a>
                        </li>

                        <li class="nav-item px-2"
                            sec:authorize="hasAnyRole('VENDEDOR','ADMIN')">
                            <a class="nav-link" th:href="@{/producto/reporte}">
                                Reporte Stock
                            </a>
                        </li>

                        <li class="nav-item dropdown"
                            sec:authorize="hasRole('ROLE_ADMIN')">
                            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
                               href="#" role="button" aria-expanded="false">
                                [[#{plantilla.admin}]]
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a class="dropdown-item" th:href="@{/usuario/listado}">
                                        [[#{plantilla.usuarios}]]
                                    </a>
                                </li>

                                <li>
                                    <a class="dropdown-item" th:href="@{/usuario_rol/mantenimiento}">
                                        [[#{plantilla.asignarRol}]]
                                    </a>
                                </li>

                            </ul>
                        </li>

                    </ul>

                    <!-- MENÚ DERECHO -->
                    <ul class="navbar-nav ms-auto">

                        <li class="nav-item ms-2"
                            sec:authorize="!isAuthenticated()">
                            <a class="btn btn-outline-light" th:href="@{/login}">
                                Log In
                            </a>
                        </li>

                        <li class="nav-item ms-2"
                            sec:authorize="isAuthenticated()">
                            <form th:action="@{/logout}" method="post">
                                <button type="submit"
                                        class="btn btn-outline-warning">
                                    Logout
                                </button>
                            </form>
                        </li>

                    </ul>

                </div>
            </div>
        </nav>
    </header>

    <!--  FOOTER COMO FRAGMENTO -->
    <footer th:fragment="footer"
            class="p-2 bg-dark text-white text-center mt-auto">
        <p class="lead mb-0">Nova Bikes Shop &COPY;</p>
    </footer>

</html>